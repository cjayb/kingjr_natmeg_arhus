function out = getfile(files)
% cfg = getscripts(filename)
% read and output all files in a variable to keep track of file changes
% JeanRÃ©mi King, jeanremi.king@gmail.com

if ~iscell(files), 
    if strfind(files, '*') || strcmp(files(end), '/')
        s = findstr(files, '/');
        path = files(1:s(end));
        files = dir(files);
        files = {files.name};
        files = cellfun(@(x) [path x], files, 'UniformOutput', false);
    else
    files = {files}; 
    end
end

%-- read all script in folder
for f = 1:length(files) 
    fid = fopen(files{f}, 'r');
    s = findstr(files{f}, '/');
    details = dir(files{f});
    out(f).file = fread(fid,'uint8=>char');
    out(f).filename = details.name;
    out(f).date = details.date;
    out(f).datenum = details.datenum;
    out(f).bytes = details.bytes;
    out(f).path = files{f}(1:s(end));
    fclose(fid);
end
